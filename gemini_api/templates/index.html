<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Analyzer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <h1>AI Image Analyzer & Obfuscator</h1>
        
        <div class="tabs">
            <button class="tab-button active" data-tab="text-tab">Text Generator</button>
            <button class="tab-button" data-tab="image-tab">Image Analysis</button>
        </div>
        
        <div id="text-tab" class="tab-content active">
            <div class="generator-form">
                <form id="generateForm">
                    <div class="form-group">
                        <label for="user_input">Enter your text:</label>
                        <textarea 
                            id="user_input" 
                            name="user_input" 
                            rows="4" 
                            placeholder="Type your message here..."
                            required
                        ></textarea>
                    </div>
                    <button type="submit" class="submit-btn">
                        <span class="btn-text">Generate</span>
                        <div class="spinner hidden"></div>
                    </button>
                </form>
            </div>
            
            <div id="response-container" class="hidden">
                <h2>AI Response</h2>
                <div id="ai-response" class="response-box"></div>
            </div>
    
            <div id="error-container" class="hidden">
                <div class="error-message"></div>
            </div>
        </div>
        
        <div id="image-tab" class="tab-content">
            <div class="image-analyzer">
                <form id="imageAnalyzeForm" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="image">Upload an image to analyze:</label>
                        <div class="file-input-container">
                            <input 
                                type="file" 
                                id="image" 
                                name="image" 
                                accept="image/png, image/jpeg, image/gif, image/webp" 
                                required
                            >
                        </div>
                        <div class="image-preview-container hidden">
                            <img id="imagePreview" src="#" alt="Preview">
                        </div>
                    </div>
                    <button type="submit" class="submit-btn">
                        <span class="btn-text">Analyze Image</span>
                        <div class="spinner hidden"></div>
                    </button>
                </form>
            </div>
            
            <div id="analysis-container" class="hidden">
                <h2>Image Analysis</h2>
                <div class="image-analysis-grid">
                    <div class="original-image">
                        <h3>Original Image</h3>
                        <div class="image-container">
                            <img id="analyzedImage" src="#" alt="Original Image">
                        </div>
                    </div>
                    <div class="analysis-result">
                        <h3>AI Analysis</h3>
                        <div id="image-analysis" class="response-box"></div>
                    </div>
                </div>
                
                <div id="image-process-section" class="hidden">
                    <h2>Make Image Harder to Identify</h2>
                    <form id="imageProcessForm">
                        <input type="hidden" id="originalImagePath" name="originalImage" value="">
                        <div class="process-options">
                            <div class="form-group">
                                <label for="operation">Choose an effect:</label>
                                <select id="operation" name="operation">
                                    <option value="blur">Blur</option>
                                    <option value="pixelate">Pixelate</option>
                                    <option value="contrast">Increase Contrast</option>
                                    <option value="brighten">Brighten</option>
                                    <option value="darken">Darken</option>
                                    <option value="noise">Add Noise</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="strength">Effect strength:</label>
                                <input type="range" id="strength" name="strength" min="0.1" max="1.0" step="0.1" value="0.5">
                                <span id="strengthValue">50%</span>
                            </div>
                            <button type="submit" class="submit-btn">
                                <span class="btn-text">Apply Effect</span>
                                <div class="spinner hidden"></div>
                            </button>
                        </div>
                    </form>
                    
                    <div id="processed-image-container" class="hidden">
                        <h3>Processed Image</h3>
                        <div class="image-container">
                            <img id="processedImage" src="#" alt="Processed Image">
                        </div>
                        <div class="download-container">
                            <a id="downloadLink" href="#" download class="download-btn">Download Processed Image</a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="image-error-container" class="hidden">
                <div class="error-message"></div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>